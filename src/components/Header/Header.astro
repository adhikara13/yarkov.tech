---
import { Icon } from "astro-icon";
import { IS_SITE_UNDER_CONSTRUCTION, SITE_METADATA } from "@root/config";
import ThemeSwitcher from "@components/ThemeSwticher";
import UIString from "@components/UIString";
import TranslatedLink from "@components/TranslatedLink";
import LanguageSelect from "@components/LanguageSelect";
import NavToggle from "./NavToggle";
import "./Header.scss";

const { name, nav, contacts } = SITE_METADATA;
const { pathname } = Astro.url;
---

<header class={`header${IS_SITE_UNDER_CONSTRUCTION ? " header-banner" : ""}`}>
	<div class="container">
		<div class="header__logo">
			<TranslatedLink to={"/"}>
				{name}
			</TranslatedLink>
		</div>
		<nav class="header__nav">
			<ul class="header__nav-links">
				{
					nav.map((link) => (
						<li>
							<TranslatedLink class={pathname.includes(link.url) && "active"} to={link.url}>
								<UIString key={link.key} />
							</TranslatedLink>
						</li>
					))
				}
			</ul>
			<div class="header__nav-contacts">
				<a href={"mailto:" + contacts.email}>
					Email
					<Icon name="email" width="18" height="18" />
				</a>
				<a href={contacts.githubUrl}>
					Github
					<Icon name="github_filled" width="18" height="18" />
				</a>
				<a href={contacts.telegramUrl}>
					Telegram
					<Icon name="telegram" width="18" height="18" />
				</a>
			</div>
			<div class="flex header__nav-settings">
				<LanguageSelect />
				<ThemeSwitcher client:visible />
			</div>
		</nav>
		<NavToggle client:visible />
	</div>
</header>
